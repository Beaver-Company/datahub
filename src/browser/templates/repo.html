{% extends "layout.html" %}
{% block content %}

<script type="text/javascript">
  $(document).ready(function(){
    var tables = $('#tables').dataTable({
      "sDom": '<"top"f<"clear">>rt<"bottom"ilp<"clear">>',
      "bPaginate": false,
      "bFilter": true,
      "bInfo": false,
      "bJQueryUI": true,
      "sWidth": "100%",
      "aoColumns": [                 
        {"bSortable": true},
        {"bSortable": false, "sWidth": "10em"},
      ]       
    });

    var files = $('#files').dataTable({
      "sDom": '<"top"f<"clear">>rt<"bottom"ilp<"clear">>',
      "bPaginate": false,
      "bFilter": true,
      "bInfo": false,
      "bJQueryUI": true,
      "sWidth": "100%",
      "aoColumns": [                 
        {"bSortable": true},
        {"bSortable": false, "sWidth": "10em"},
      ]      
    });

    $('.dataTables_filter input').attr("placeholder", "filter by keyword tokens");
  });
</script>


<div id="content">
  <a class="blue bold" href=/browse/{{username}}>{{username}}</a> / <a class = "blue bold" href=/browse/{{username}}/{{repo}}>{{repo}}</a> /
  <hr class="light" />
  <br />
  <br />
  <div>
  <a class="button inactive" href="/console">Create Table with SQL</a> &nbsp; &nbsp; <a class="button inactive" href="/files/{{username}}/{{repo}}">Upload Files</a> &nbsp; &nbsp; <a class="button inactive" href="/data-refiner">Launch Data Refiner</a>
  <!--
  <a class="button inactive" href="/settings/{{username}}/{{repo}}">Manage Settings</a>
  -->
  </div>
  <br />
  <table id="tables">
    <thead>
    <tr>
      <th>Tables</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    {% for table in tables %}
    <tr>
      <td><a class="blue link" href="/browse/{{username}}/{{repo}}/{{table}}">{{table}}</a></td>
      <td><a class="table-icon" href="/browse/{{username}}/{{repo}}/{{table}}" title="View Table"></a> &nbsp; <a class="csv-icon" href="/export/{{username}}/{{repo}}/{{table}}" title="Export to CSV"></a> &nbsp; <a class="delete-icon" href="/delete-table/{{username}}/{{repo}}/{{table}}" title="Delete"></a></td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
  <br />
  <br />
  <table id="files">
    <thead>
    <tr>
      <th>Files</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    {% for file in files %}
    <tr>
      <td><a class="blue link" href="/download/{{username}}/{{repo}}?file={{file}}">{{file}}</a></td>
      <td><a class="database-table-icon" href="/import/{{username}}/{{repo}}?file={{file}}" title="Import to DataHub as Table"></a> &nbsp; <a class="download-icon" href="/download/{{username}}/{{repo}}?file={{file}}" title="Download"></a> &nbsp; <a class="delete-icon" href="/delete/{{username}}/{{repo}}?file={{file}}" title="Delete"></a></td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}





